<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Aesva Impute Time</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Symbols+Outlined" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-X" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
  <script type="module" src="https://cdn.jsdelivr.net/npm/@material/web@0.27.0/all.min.js"></script>
  <link rel="stylesheet" href="css/material-theme.css" />
</head>
<body class="surface">
  <!-- Top App Bar with segmented buttons -->
  <md-top-app-bar-fixed>
    <md-icon-button id="menuBtn" slot="navigationIcon" aria-label="Menú">
      <md-icon>menu</md-icon>
    </md-icon-button>
    <div slot="title">Aesva Impute Time</div>
    <md-segmented-button-set slot="actionItems" id="viewFilters">
      <md-outlined-segmented-button selected label="Todo"></md-outlined-segmented-button>
      <md-outlined-segmented-button label="Hoy"></md-outlined-segmented-button>
      <md-outlined-segmented-button label="Esta semana"></md-outlined-segmented-button>
      <md-outlined-segmented-button label="Mes"></md-outlined-segmented-button>
      <md-outlined-segmented-button label="Mes anterior"></md-outlined-segmented-button>
    </md-segmented-button-set>
  </md-top-app-bar-fixed>

  <!-- Drawer navigation -->
  <md-drawer id="navDrawer" type="modal">
    <md-list>
      <md-list-item id="navCustomers" type="button" aria-label="Clientes"><md-icon slot="start">groups</md-icon>Clientes</md-list-item>
      <md-list-item id="navTasks" type="button" aria-label="Tareas"><md-icon slot="start">task</md-icon>Tareas</md-list-item>
      <md-list-item id="navCalendar" type="button" aria-label="Calendario"><md-icon slot="start">calendar_month</md-icon>Calendario</md-list-item>
      <md-list-item id="navCompany" type="button" aria-label="Empresa"><md-icon slot="start">domain</md-icon>Empresa</md-list-item>
      <md-list-item id="navInvoices" type="button" aria-label="Facturas"><md-icon slot="start">receipt_long</md-icon>Facturas</md-list-item>
      <md-list-item id="navConfig" type="button" aria-label="Configuración"><md-icon slot="start">settings</md-icon>Configuración</md-list-item>
    </md-list>
  </md-drawer>

  <div class="container-fluid mt-4">
    <div class="row g-3">
      <!-- Fichaje column -->
      <div class="col-12 col-md-4">
        <section id="fichaje" class="card p-3">
          <!-- Existing HTML from original page -->
        </section>
      </div>
      <!-- Table column -->
      <div class="col-12 col-md-8">
        <section id="tableWrapper" class="card p-3">
          <div class="d-flex justify-content-end gap-1 mb-2">
            <md-outlined-icon-button id="BtnEditImputation" disabled aria-label="Editar"><md-icon>edit</md-icon></md-outlined-icon-button>
            <md-outlined-icon-button id="BtnDelImputation" disabled aria-label="Eliminar"><md-icon>delete</md-icon></md-outlined-icon-button>
            <md-outlined-icon-button id="BtnLoadAllImp" aria-label="Descargar"><md-icon>download</md-icon></md-outlined-icon-button>
            <md-outlined-icon-button id="BtnExportImp" aria-label="Exportar CSV"><md-icon>file_download</md-icon></md-outlined-icon-button>
          </div>
          <div class="table-responsive">
            <table id="imputationsTable" class="table table-striped table-hover">
              <thead class="sticky-top">
                <tr>
                  <th>Fecha</th>
                  <th>Entrada</th>
                  <th>Salida</th>
                  <th>Total</th>
                  <th>Decimal</th>
                  <th>Minutos</th>
                  <th>Tarea</th>
                  <th>Nº tarea cliente</th>
                  <th>No Fee</th>
                  <th>Festivo</th>
                  <th>Vacaciones</th>
                  <th>Comentarios</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- Floating action button -->
  <md-fab id="BtnAddImputation" aria-label="Añadir imputación" class="position-fixed">
    <md-icon>add</md-icon>
  </md-fab>

  <!-- Snackbar -->
  <md-snackbar id="snackSaved" label-text="Imputación guardada"></md-snackbar>

  <!-- Delete dialog -->
  <md-dialog id="deleteDialog">
    <div slot="headline">Eliminar imputación</div>
    <div slot="content">¿Seguro que deseas eliminarla?</div>
    <div slot="actions">
      <md-text-button dialog-action="cancel"><md-icon slot="icon">cancel</md-icon>Cancelar</md-text-button>
      <md-text-button dialog-action="delete"><md-icon slot="icon">delete</md-icon>Eliminar</md-text-button>
    </div>
  </md-dialog>

  <script src="js/conection-bbdd.js" defer></script>
  <script src="js/config.js" defer></script>
  <script src="js/google-ai.js" defer></script>
  <script src="js/data-loader.js" defer></script>
  <script src="js/impute-hours.js" defer></script>
  <script src="js/customers.js" defer></script>
  <script src="js/tasks.js" defer></script>
  <script src="js/calendar.js" defer></script>
  <script src="js/calendar-year.js" defer></script>
  <script src="js/company.js" defer></script>
  <script src="js/invoice-print.js" defer></script>
  <script src="js/invoices.js" defer></script>
  <script src="js/material-init.js" defer></script>
</body>
</html>
